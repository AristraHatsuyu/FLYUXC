# æ–‡ä»¶I/OåŠŸèƒ½åˆ†æä¸è¡¥å……å»ºè®®

## å½“å‰å·²å®ç°çš„åŠŸèƒ½ âœ…

### æ–‡æœ¬æ–‡ä»¶æ“ä½œ
- `readFile(path)` - è¯»å–æ–‡æœ¬æ–‡ä»¶å†…å®¹
- `writeFile(path, content)` - å†™å…¥æ–‡æœ¬æ–‡ä»¶
- `appendFile(path, content)` - è¿½åŠ åˆ°æ–‡æœ¬æ–‡ä»¶

### äºŒè¿›åˆ¶æ–‡ä»¶æ“ä½œ
- `readBytes(path)` - è¯»å–äºŒè¿›åˆ¶æ–‡ä»¶ â†’ Bufferå¯¹è±¡
- `writeBytes(path, data)` - å†™å…¥äºŒè¿›åˆ¶æ–‡ä»¶ (æ¥å—Bufferæˆ–æ•°ç»„)

### æ–‡ä»¶ç³»ç»ŸæŸ¥è¯¢
- `fileExists(path)` - æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
- `deleteFile(path)` - åˆ é™¤æ–‡ä»¶
- `getFileSize(path)` - è·å–æ–‡ä»¶å¤§å°

---

## ä¸»æµè¯­è¨€å¯¹æ¯”åˆ†æ

### C/C++ (stdio.h, fstream)
**æˆ‘ä»¬ç¼ºå°‘çš„æ ¸å¿ƒåŠŸèƒ½ï¼š**
1. âŒ é€è¡Œè¯»å– - `fgets()`, `std::getline()`
2. âŒ æ–‡ä»¶é‡å‘½å/ç§»åŠ¨ - `rename()`
3. âŒ ä¸´æ—¶æ–‡ä»¶ - `tmpfile()`
4. âŒ æ–‡ä»¶å®šä½ - `fseek()`, `ftell()`

### Go (os, io/ioutil, bufio)
**æˆ‘ä»¬ç¼ºå°‘çš„æ ¸å¿ƒåŠŸèƒ½ï¼š**
1. âŒ é€è¡Œè¯»å– - `bufio.Scanner`
2. âŒ ç›®å½•æ“ä½œ - `os.Mkdir()`, `os.ReadDir()`
3. âŒ æ–‡ä»¶æƒé™ - `os.Chmod()`
4. âŒ æ–‡ä»¶é‡å‘½å - `os.Rename()`
5. âŒ è·¯å¾„æ“ä½œ - `filepath.Join()`, `filepath.Dir()`
6. âŒ æ–‡ä»¶ä¿¡æ¯ - `os.Stat()` (ä¿®æ”¹æ—¶é—´ã€æƒé™ç­‰)

### Rust (std::fs, std::io)
**æˆ‘ä»¬ç¼ºå°‘çš„æ ¸å¿ƒåŠŸèƒ½ï¼š**
1. âŒ å…ƒæ•°æ®æŸ¥è¯¢ - `metadata()` (åˆ›å»ºæ—¶é—´ã€ä¿®æ”¹æ—¶é—´ã€æƒé™)
2. âŒ ç›®å½•æ“ä½œ - `create_dir()`, `read_dir()`
3. âŒ ç¬¦å·é“¾æ¥ - `symlink()`, `read_link()`
4. âŒ æ–‡ä»¶é‡å‘½å - `rename()`
5. âŒ æ–‡ä»¶å¤åˆ¶ - `copy()`

### Python (pathlib, os)
**æˆ‘ä»¬ç¼ºå°‘çš„æ ¸å¿ƒåŠŸèƒ½ï¼š**
1. âŒ é€è¡Œè¯»å– - `for line in file`
2. âŒ è·¯å¾„æ“ä½œ - `Path.join()`, `Path.parent`, `Path.name`
3. âŒ ç›®å½•éå† - `os.listdir()`, `os.walk()`
4. âŒ æ–‡ä»¶å¤åˆ¶/ç§»åŠ¨ - `shutil.copy()`, `shutil.move()`
5. âŒ ä¸´æ—¶æ–‡ä»¶ - `tempfile.TemporaryFile()`

### JavaScript/Node.js (fs module)
**æˆ‘ä»¬ç¼ºå°‘çš„æ ¸å¿ƒåŠŸèƒ½ï¼š**
1. âŒ é€è¡Œè¯»å– - `readline`
2. âŒ ç›®å½•æ“ä½œ - `fs.mkdir()`, `fs.readdir()`
3. âŒ æ–‡ä»¶ç›‘è§† - `fs.watch()`
4. âŒ æ–‡ä»¶å¤åˆ¶ - `fs.copyFile()`
5. âŒ æµå¼è¯»å†™ - `fs.createReadStream()`

---

## ğŸ¯ å¿…é¡»è¡¥é½çš„æ ¸å¿ƒåŠŸèƒ½

### 1. **é€è¡Œè¯»å–** (HIGH PRIORITY) â­â­â­
**åŸå› ï¼š** æ‰€æœ‰ä¸»æµè¯­è¨€éƒ½æœ‰ï¼Œå¤„ç†æ—¥å¿—æ–‡ä»¶ã€CSVç­‰åœºæ™¯å¿…éœ€
```flyux
lines := readLines("file.txt")  // è¿”å›æ•°ç»„
// æˆ–è€…
line := readLine(fileHandle)   // éœ€è¦FileHandleå®ç°
```

### 2. **æ–‡ä»¶é‡å‘½å/ç§»åŠ¨** (HIGH PRIORITY) â­â­â­
**åŸå› ï¼š** åŸºç¡€æ–‡ä»¶æ“ä½œï¼Œæ— æ³•é€šè¿‡å·²æœ‰å‡½æ•°å®ç°
```flyux
renameFile("old.txt", "new.txt")
moveFile("file.txt", "dir/file.txt")
```

### 3. **æ–‡ä»¶å¤åˆ¶** (HIGH PRIORITY) â­â­â­
**åŸå› ï¼š** åŸºç¡€æ“ä½œï¼Œè™½ç„¶å¯ä»¥ç”¨readBytes+writeByteså®ç°ï¼Œä½†æ•ˆç‡ä½ä¸”ä¸å¤„ç†å…ƒæ•°æ®
```flyux
copyFile("source.txt", "dest.txt")
```

### 4. **ç›®å½•æ“ä½œ** (HIGH PRIORITY) â­â­â­
**åŸå› ï¼š** ç®¡ç†é¡¹ç›®æ–‡ä»¶å¿…éœ€
```flyux
createDir("mydir")
removeDir("mydir")
listDir("mydir")  // è¿”å›æ–‡ä»¶åæ•°ç»„
dirExists("mydir")
```

### 5. **è·¯å¾„æ“ä½œ** (MEDIUM PRIORITY) â­â­
**åŸå› ï¼š** è·¨å¹³å°è·¯å¾„å¤„ç†å¿…éœ€
```flyux
path := joinPath("dir", "file.txt")  // "dir/file.txt" (Unix) or "dir\\file.txt" (Windows)
dir := dirname("/path/to/file.txt")  // "/path/to"
base := basename("/path/to/file.txt")  // "file.txt"
ext := extname("file.txt")  // ".txt"
```

### 6. **æ–‡ä»¶å…ƒæ•°æ®** (MEDIUM PRIORITY) â­â­
**åŸå› ï¼š** åˆ¤æ–­æ–‡ä»¶å±æ€§ã€ç¼“å­˜ç­–ç•¥ç­‰
```flyux
info := getFileInfo("file.txt")
// info = { 
//   size: 1024,
//   modTime: 1732089600,  // Unix timestamp
//   createTime: 1732089600,
//   isDir: false,
//   permissions: 0644
// }
```

### 7. **ä¸´æ—¶æ–‡ä»¶** (LOW PRIORITY) â­
**åŸå› ï¼š** å®‰å…¨çš„ä¸´æ—¶æ•°æ®å­˜å‚¨
```flyux
tmpPath := createTempFile()  // è¿”å›è·¯å¾„ï¼Œè‡ªåŠ¨æ¸…ç†
```

---

## ğŸš« ä¸å»ºè®®æ·»åŠ çš„åŠŸèƒ½

### 1. **æµå¼è¯»å†™** 
**åŸå› ï¼š** å·²æœ‰readFile/writeFileï¼ŒBufferæ”¯æŒå¤§æ–‡ä»¶ï¼Œæµå¼APIå¤æ‚åº¦é«˜

### 2. **æ–‡ä»¶ç›‘è§† (watch)**
**åŸå› ï¼š** éœ€è¦å¼‚æ­¥/äº‹ä»¶å¾ªç¯æ”¯æŒï¼Œè¶…å‡ºå½“å‰è¯­è¨€èŒƒå›´

### 3. **æ–‡ä»¶é”**
**åŸå› ï¼š** éœ€è¦å¤æ‚çš„å¹¶å‘æ§åˆ¶ï¼Œå½“å‰è¯­è¨€æ— çº¿ç¨‹æ”¯æŒ

### 4. **å‹ç¼©/è§£å‹**
**åŸå› ï¼š** åº”ç”±ä¸“é—¨åº“æä¾›ï¼Œä¸æ˜¯è¯­è¨€æ ¸å¿ƒåŠŸèƒ½

---

## ğŸ“‹ æ¨èå®ç°ä¼˜å…ˆçº§

### Phase 1 - ç«‹å³å®ç° (å¿…éœ€åŸºç¡€åŠŸèƒ½)
1. `readLines(path)` â†’ `str[]` - é€è¡Œè¯»å–
2. `renameFile(oldPath, newPath)` â†’ `bl` - æ–‡ä»¶é‡å‘½å
3. `copyFile(src, dest)` â†’ `bl` - æ–‡ä»¶å¤åˆ¶
4. `createDir(path)` â†’ `bl` - åˆ›å»ºç›®å½•
5. `removeDir(path)` â†’ `bl` - åˆ é™¤ç›®å½•
6. `listDir(path)` â†’ `str[]` - åˆ—å‡ºç›®å½•å†…å®¹
7. `dirExists(path)` â†’ `bl` - ç›®å½•æ˜¯å¦å­˜åœ¨

### Phase 2 - è¿‘æœŸå®ç° (é‡è¦å¢å¼º)
8. `joinPath(...paths)` â†’ `str` - è·¯å¾„æ‹¼æ¥
9. `dirname(path)` â†’ `str` - è·å–ç›®å½•å
10. `basename(path)` â†’ `str` - è·å–æ–‡ä»¶å
11. `extname(path)` â†’ `str` - è·å–æ‰©å±•å
12. `getFileInfo(path)` â†’ `obj` - æ–‡ä»¶å…ƒæ•°æ®
13. `isFile(path)` â†’ `bl` - æ˜¯å¦ä¸ºæ–‡ä»¶
14. `isDir(path)` â†’ `bl` - æ˜¯å¦ä¸ºç›®å½•

### Phase 3 - å¯é€‰å®ç° (é”¦ä¸Šæ·»èŠ±)
15. `createTempFile()` â†’ `str` - åˆ›å»ºä¸´æ—¶æ–‡ä»¶
16. `getAbsPath(path)` â†’ `str` - è·å–ç»å¯¹è·¯å¾„
17. `getCurrentDir()` â†’ `str` - è·å–å½“å‰ç›®å½•
18. `changeDir(path)` â†’ `bl` - æ”¹å˜å½“å‰ç›®å½•

---

## ğŸ’¡ å®ç°å»ºè®®

### è·¨å¹³å°å…¼å®¹æ€§
- è·¯å¾„åˆ†éš”ç¬¦ï¼šä½¿ç”¨ `PATH_MAX` å’Œå¹³å°å®
- Windows: ä½¿ç”¨ `_stat64()`, `_mkdir()`, `_rmdir()`
- Unix: ä½¿ç”¨ `stat()`, `mkdir()`, `rmdir()`

### é”™è¯¯å¤„ç†
- ä½¿ç”¨ `set_runtime_status()` æŠ¥å‘Šé”™è¯¯
- è¿”å› `bl` ç±»å‹è¡¨ç¤ºæˆåŠŸ/å¤±è´¥
- è¯¦ç»†é”™è¯¯ä¿¡æ¯å­˜å‚¨åœ¨ runtime status

### Buffer é›†æˆ
- `readLines()` åº”è¿”å› `str[]` è€Œä¸æ˜¯ Buffer
- å¤§æ–‡ä»¶é€è¡Œè¯»å–æ—¶è€ƒè™‘å†…å­˜é™åˆ¶

---

## ğŸ“Š ç«äº‰åŠ›åˆ†æ

**å½“å‰çŠ¶æ€ï¼š** 6/10
- âœ… åŸºç¡€è¯»å†™å®Œæ•´
- âœ… äºŒè¿›åˆ¶æ”¯æŒè‰¯å¥½
- âŒ ç¼ºå°‘ç›®å½•æ“ä½œ
- âŒ ç¼ºå°‘è·¯å¾„å¤„ç†
- âŒ ç¼ºå°‘å…ƒæ•°æ®æŸ¥è¯¢

**å®ç° Phase 1 åï¼š** 8/10
- âœ… ä¸ Python/Node.js åŸºç¡€åŠŸèƒ½æŒå¹³
- âœ… æ»¡è¶³ 90% å¸¸è§æ–‡ä»¶æ“ä½œéœ€æ±‚

**å®ç° Phase 2 åï¼š** 9/10
- âœ… ä¸ä¸»æµè¯­è¨€æ ¸å¿ƒåŠŸèƒ½å¯¹ç­‰
- âœ… å¯ç”¨äºç”Ÿäº§ç¯å¢ƒé¡¹ç›®

---

## æ€»ç»“

**æœ€ä½è¦æ±‚ï¼ˆPhase 1ï¼‰ï¼š** 7ä¸ªå‡½æ•°
- ç›®å½•æ“ä½œ (4ä¸ª): createDir, removeDir, listDir, dirExists
- æ–‡ä»¶æ“ä½œ (3ä¸ª): readLines, renameFile, copyFile

**æ¨èç›®æ ‡ï¼ˆPhase 1 + 2ï¼‰ï¼š** 14ä¸ªå‡½æ•°
- åœ¨æœ€ä½è¦æ±‚åŸºç¡€ä¸Šå¢åŠ è·¯å¾„å¤„ç†å’Œå…ƒæ•°æ®æŸ¥è¯¢

è¿™äº›å‡½æ•°æ— æ³•é€šè¿‡å·²æœ‰å‡½æ•°ç»„åˆå®ç°ï¼Œæ˜¯çœŸæ­£éœ€è¦çš„åº•å±‚èƒ½åŠ›è¡¥å……ã€‚
